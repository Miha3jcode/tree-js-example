{"version":3,"sources":["hooks/useStaticRefCurrentGetter.js","svgs/close.svg","components/List/List.js","components/Button/Button.js","components/Input/Input.js","components/Select/Select.js","App.js","reportWebVitals.js","index.js"],"names":["useStaticRefCurrentGetter","ref","initialize","useCallback","current","getCurrent","_g","_g2","_g3","_g4","_g5","_g6","_g7","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgClose","_ref","svgRef","title","titleId","props","enableBackground","height","id","viewBox","width","xmlSpace","xmlns","xmlnsXlink","clipRule","d","fill","fillRule","ForwardRef","List","className","items","onDeleteButtonClick","join","map","item","text","onClick","event","String","Button","Input","Select","shapes","options","value","label","geometryCreators","scale","THREE","initRenderer","container","camera","scene","dimensions","getContainerDimensions","renderer","antialias","setSize","setAnimationLoop","render","getAnimation","appendChild","domElement","OrbitControls","update","offsetWidth","offsetHeight","aspect","getRandomInRange","min","max","Math","random","App","containerRef","useRef","cameraRef","sceneRef","rendererRef","defaultMaterialRef","getContainer","getCamera","position","z","initCamera","getScene","background","baseLight","hemisphereLight","mainPointLight","set","intensity","add","initScene","getDefaultMaterial","materialOptions","color","flatShading","initDefaultMaterial","useState","setScale","shape","setShape","setItems","useEffect","children","initTree","handleInitTreeEffect","onCreateButtonClickHandler","material","updateItems","preventDefault","createGeometry","object","x","y","setRandomPosition","createNewObject","handleCreateButtonClick","onScaleInputChangeHandler","onShapeSelectChangeHandler","handleOnShapeSelect","onDeleteButtonClickHandler","getObjectById","remove","handleDeleteObject","filter","child","uuid","action","name","onChange","option","type","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.688f3f91.chunk.js","sourcesContent":["import {\r\n  useCallback,\r\n} from 'react';\r\n\r\nexport default function useStaticRefCurrentGetter(ref, initialize) {\r\n  return useCallback(\r\n    () => getCurrent(ref, initialize),\r\n    [],\r\n  );\r\n}\r\n\r\nfunction getCurrent(ref, initialize) {\r\n  if (!ref.current) {\r\n    ref.current = initialize();\r\n  }\r\n\r\n  return ref.current;\r\n}","var _g, _g2, _g3, _g4, _g5, _g6, _g7;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 32 32\",\n    height: \"32px\",\n    id: \"\\\\u0421\\\\u043B\\\\u043E\\\\u0439_1\",\n    viewBox: \"0 0 32 32\",\n    width: \"32px\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Cancel\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    clipRule: \"evenodd\",\n    d: \"M16,0C7.163,0,0,7.163,0,16c0,8.836,7.163,16,16,16   c8.836,0,16-7.163,16-16C32,7.163,24.836,0,16,0z M16,30C8.268,30,2,23.732,2,16C2,8.268,8.268,2,16,2s14,6.268,14,14   C30,23.732,23.732,30,16,30z\",\n    fill: \"#121313\",\n    fillRule: \"evenodd\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    clipRule: \"evenodd\",\n    d: \"M22.729,21.271l-5.268-5.269l5.238-5.195   c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.39-1.034-0.39-1.428,0l-5.231,5.188l-5.309-5.31c-0.394-0.396-1.034-0.396-1.428,0   c-0.394,0.395-0.394,1.037,0,1.432l5.301,5.302l-5.331,5.287c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.429,0   l5.324-5.28l5.276,5.276c0.394,0.396,1.034,0.396,1.428,0C23.123,22.308,23.123,21.667,22.729,21.271z\",\n    fill: \"#121313\",\n    fillRule: \"evenodd\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.9157cf20.svg\";\nexport { ForwardRef as ReactComponent };","import './List.scss';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {ReactComponent as CloseSvg} from 'svgs/close.svg';\r\n\r\nList.propTypes = {\r\n  className: PropTypes.string,\r\n  items: PropTypes.arrayOf(PropTypes.exact({\r\n    id: PropTypes.oneOfType([\r\n      PropTypes.number,\r\n      PropTypes.string,\r\n    ]).isRequired,\r\n    text: PropTypes.string.isRequired,\r\n  })).isRequired,\r\n  onDeleteButtonClick: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction List({className, items, onDeleteButtonClick, ...props}) {\r\n  return (\r\n    <ul\r\n      {...props}\r\n      className={[\r\n        'list',\r\n        className,\r\n      ].join(' ')}\r\n    >\r\n      {\r\n        items?.map(item => {\r\n\r\n          function handleOnClick(event) {\r\n            if (!onDeleteButtonClick) return;\r\n\r\n            onDeleteButtonClick(event, item.id);\r\n          }\r\n\r\n          return (\r\n            <li className={'list__item'} key={String(item.id)}>\r\n              <p className={'list__text'}>{item.text}</p>\r\n              <CloseSvg\r\n                className={'list__delete-button'}\r\n                onClick={handleOnClick}\r\n              />\r\n            </li>\r\n          )\r\n        })\r\n      }\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default List;","import './Button.scss';\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nButton.propTypes = {\r\n  className: PropTypes.string,\r\n};\r\n\r\nfunction Button({className, ...props}) {\r\n  return (\r\n    <button\r\n      {...props}\r\n      className={[\r\n        'button',\r\n        className,\r\n      ].join(' ')}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Button;","import './Input.scss';\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nInput.propTypes = {\r\n  className: PropTypes.string,\r\n};\r\n\r\nfunction Input({className, ...props}) {\r\n  return (\r\n    <input\r\n      {...props}\r\n      className={[\r\n        'input',\r\n        className,\r\n      ].join(' ')}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Input;","import './Select.scss';\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nSelect.propTypes = {\r\n  className: PropTypes.string,\r\n};\r\n\r\nfunction Select({className, ...props}) {\r\n  return (\r\n    <select\r\n      {...props}\r\n      className={[\r\n        'select',\r\n        className,\r\n      ].join(' ')}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Select;","import './App.scss';\n\nimport React from 'react';\nimport * as THREE from 'three';\nimport OrbitControls from 'three-orbitcontrols';\n\nimport useStaticRefCurrentGetter from 'hooks/useStaticRefCurrentGetter';\nimport List from 'components/List/List';\nimport Button from 'components/Button/Button';\nimport Input from 'components/Input/Input';\nimport Select from 'components/Select/Select';\n\nimport {\n  useRef,\n  useEffect,\n  useCallback,\n  useState,\n} from 'react';\n\nconst shapes = {\n  CUBE: 'CUBE',\n  SPHERE: 'SPHERE',\n  CYLINDER: 'CYLINDER',\n};\n\nconst options = [\n  { value: shapes.CUBE, label: 'Cube'},\n  { value: shapes.SPHERE, label: 'Sphere'},\n  { value: shapes.CYLINDER, label: 'Cylinder'},\n];\n\nconst geometryCreators = {\n  [shapes.CUBE]: (scale) =>\n    new THREE.BoxGeometry(scale, scale, scale),\n\n  [shapes.SPHERE]: (scale) =>\n    new THREE.SphereGeometry( scale / 2, scale * 128, scale * 128 ),\n\n  [shapes.CYLINDER]: (scale) =>\n    new THREE.CylinderGeometry( scale / 4, scale / 4, scale, scale * 128),\n};\n\nfunction App() {\n\n  const containerRef = useRef();\n\n  const cameraRef = useRef(null);\n  const sceneRef = useRef(null);\n  const rendererRef = useRef(null);\n  const defaultMaterialRef = useRef(null)\n\n  const getContainer = useStaticRefCurrentGetter(\n    containerRef,\n    () => null,\n  );\n\n  const getCamera = useStaticRefCurrentGetter(\n    cameraRef, \n    () => initCamera(getContainer()),\n  );\n  \n  const getScene = useStaticRefCurrentGetter(\n    sceneRef,\n    () => initScene(),\n  );\n\n  const getRenderer = useStaticRefCurrentGetter(\n    rendererRef,\n    () => initRenderer(getContainer(), getCamera(), getScene()),\n  );\n\n  const getDefaultMaterial = useStaticRefCurrentGetter(\n    defaultMaterialRef,\n    () => initDefaultMaterial(),\n  );\n  \n  const [scale, setScale] = useState(1);\n  const [shape, setShape] = useState(shapes.CUBE);\n  const [items, setItems] = useState([]);\n\n  useEffect(\n    () => handleInitTreeEffect(getContainer(), getCamera(), getScene()),\n    [],\n  );\n\n  const onCreateButtonClickHandler = useCallback(\n    (event) => handleCreateButtonClick(event, shape, scale, getScene(), getDefaultMaterial(), updateItems),\n    [shape, scale],\n  );\n\n  const onScaleInputChangeHandler = useCallback(\n    (event) => setScale(event.target.value),\n    [],\n  );\n\n  const onShapeSelectChangeHandler = useCallback(\n    (event) => handleOnShapeSelect(event, setShape),\n    [setShape],\n  );\n\n  const onDeleteButtonClickHandler = useCallback(\n    (event, id) => handleDeleteObject(id, getScene(), updateItems),\n    [],\n  );\n\n  function updateItems() {\n    const scene = getScene();\n\n    const items = scene.children\n      .filter(child => child instanceof  THREE.Mesh)\n      .map(object => ({\n        id: object.id,\n        text: object.uuid,\n      }));\n\n    setItems(items);\n  }\n\n  return (\n    <div className=\"app\">\n      <form className={'app__form'} action=\"#\">\n        <Select className={'app__field'} name=\"shape\" value={shape} onChange={onShapeSelectChangeHandler}>\n          {\n            options.map(option => {\n              return  (\n                <option value={option.value} key={option.value}>{option.label}</option>\n              );\n            })\n          }\n        </Select>\n        <Input className={'app__field'} type=\"text\" name={'scale'} value={scale} onChange={onScaleInputChangeHandler}/>\n        <Button className={'app__field'} onClick={onCreateButtonClickHandler}>create</Button>\n      </form>\n      <List className={'app__list'} items={items}  onDeleteButtonClick={onDeleteButtonClickHandler}/>\n      <div className=\"app__tree-container\" ref={containerRef}/>\n    </div>\n  );\n}\n\nfunction handleInitTreeEffect(container, camera, scene) {\n  if (container.children.length) return;\n\n  initTree(container, camera, scene);\n}\n\nfunction handleCreateButtonClick(event, shape, scale, scene, material, updateItems) {\n  event.preventDefault();\n  createNewObject(shape, scale, scene, material, updateItems)\n}\n\nfunction handleOnShapeSelect(event, setShape) {\n  setShape(event.target.value);\n}\n\nfunction handleDeleteObject(id, scene, updateItems) {\n  const object = scene.getObjectById(id);\n\n  scene.remove(object);\n\n  updateItems();\n}\n\nfunction createNewObject(shape, scale, scene, material, updateItems) {\n\n  const createGeometry = geometryCreators[shape];\n\n  if (!createGeometry) return;\n\n  const object = new THREE.Mesh(\n    createGeometry(0.1),\n    material,\n  );\n\n  object.scale.set(scale, scale, scale);\n\n  setRandomPosition(object);\n\n  scene.add(object);\n\n  updateItems();\n}\n\nfunction initDefaultMaterial() {\n  const materialOptions = {\n    color: new THREE.Color('#ffb759'),\n    flatShading: false,\n  };\n\n  return new THREE.MeshPhysicalMaterial(materialOptions);\n}\n\nfunction initCamera(container) {\n  const dimensions = getContainerDimensions(container);\n\n  const camera = new THREE.PerspectiveCamera( 70, dimensions.aspect, 0.01, 10 );\n  camera.position.z = 1;\n\n  return camera;\n}\n\nfunction initScene() {\n  const scene = new THREE.Scene();\n  scene.background = new THREE.Color('skyblue');\n\n  const baseLight = new THREE.AmbientLight( '#fefff0' );\n  const hemisphereLight = new THREE.HemisphereLight( '#fffcab', '#ffaeab', 1 );\n  const mainPointLight = new THREE.PointLight( '#fffed6', 1, 5 );\n\n  mainPointLight.position.set( 1, 1, 1 );\n  baseLight.intensity = 0.1;\n  hemisphereLight.intensity = 0.2;\n\n  scene.add( baseLight );\n  scene.add( hemisphereLight );\n  scene.add( mainPointLight );\n\n  return scene;\n}\n\nfunction initRenderer(container, camera, scene) {\n  const dimensions = getContainerDimensions(container);\n\n  const renderer = new THREE.WebGLRenderer({ antialias: true });\n\n  renderer.setSize( dimensions.width, dimensions.height );\n  renderer.setAnimationLoop( getAnimation(camera, scene, renderer) );\n\n  container.appendChild( renderer.domElement );\n\n  const controls = new OrbitControls( camera, renderer.domElement );\n  controls.update();\n}\n\nfunction initTree(container, camera, scene) {\n  initRenderer(container, camera, scene);\n}\n\nfunction getAnimation(camera, scene, renderer) {\n  return function animation() {\n    renderer.render( scene, camera );\n  }\n}\n\nfunction getContainerDimensions(container) {\n  return {\n    width: container.offsetWidth,\n    height: container.offsetHeight,\n    aspect: container.offsetWidth / container.offsetHeight,\n  };\n}\n\nfunction setRandomPosition(object) {\n  object.position.x = getRandomInRange(-0.5, 0.5);\n  object.position.y = getRandomInRange(-0.5, 0.5);\n  object.position.z = getRandomInRange(-0.5, 0.5);\n}\n\nfunction getRandomInRange(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}